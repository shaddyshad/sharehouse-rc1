var Barge=Barge||{};
(function(q){Barge.String={RSPACE:/\s+/g,rand:function(a){a=void 0===a?5:a;if(!q.isNumber(a)||1>a)throw Error("rand expects an integer greater than 0");for(var b="",c=0;c<a;c++)b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return b},toSentenceCase:function(a){a=a.toString();a=a.toLowerCase();return a.substring(0,1).toUpperCase()+a.substring(1,a.length)},capitalise:function(a){a=a.toString();a=a.toLowerCase();var b=a.split(" ");a="";for(var c=
0;c<b.length;c++){var d=this.toSentenceCase(b[c].toString());a+=d+" "}return a},toCamelCase:function(a,b){a=a.toString();a=a.toLowerCase();var c=a.split(" ");b=b?"":" ";a=""+c[0].toString();for(var d=1;d<c.length;d++){var e=this.toSentenceCase(c[d].toString());a+=e+b}return a},toPascalCase:function(a,b){a=a.toString();a=a.toLowerCase();var c=a.split(" ");b=b?"":" ";a="";for(var d=0;d<c.length;d++){var e=this.toSentenceCase(c[d].toString());a+=e+b}return a},toggleCase:function(a){a=a.toString();a=
a.split(" ");for(var b=0;b<a.length;b+=Math.floor(4*Math.random()))a[b]=this.toSentenceCase(a[b]);a=a.concat().toString();return a.replace(/,/g," ")},humanize:function(a){if(null===a||void 0===a)return"";a=this.underScore(a).replace(/_id$/,"").replace(/_/g," ").trim();return Barge.String.toSentenceCase(a)},dasherise:function(a){a=this.trim(a);a.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return a},ellipsify:function(a,b){return null===a||void 0===a?"":a.length==
b?a:this.truncate(a,b-3)+"..."},trim:function(a){return a.replace(/^\s*|\s*$/gm,"")},stripChars:function(a,b,c){c=void 0===c?"":c;for(var d=0,e=b.length;d<e;d++)a=a.replace(new RegExp(b[d],"ig"),c);return a},trimLeft:function(a){return a.replace(/^\s*/gm,"")},trimRight:function(a){return a.replace(/\s*$/gm,"")},truncate:function(a,b){if(Barge.utils.defined(a))return a=a.toString(),a.length>b&&""!=a&&(a=a.substr(0,b)),a},mul:function(a,b){var c=a.toString();a="";for(var d=0;d<b;d++)a+=c;return a},
pad:function(a,b,c){null===c&&(c=" ");if(a.length>=b)return a;b-=a.length;var d=Array(Math.ceil(b/2)+1).join(c);b=Array(Math.floor(b/2)+1).join(c);return d+a+b},padLeft:function(a,b,c){null===c&&(c=" ");return a.length>=b?a:Array(b-a.length+1).join(c)+a},padRight:function(a,b,c){null===c&&(c=" ");return a.length>=a?a:a+Array(b-a.length+1).join(c)},isAlpha:function(a){return!/[^a-z\xDF-\xFF]|^$/.test(a.toLowerCase())},isNumeric:function(a){return!/[^0-9]/.test(a)},isWhiteSpace:function(a){return"u0009"===
a||" "===a||"u00A0"===a},isEmpty:function(a){return null===a||void 0===a?!0:/^[\s\xa0]*$/.test(a)},isEqual:function(a,b){return a===b},isAlphaNumeric:function(a){return!/[^0-9a-z\xDF-\xFF]/.test(a.toLowerCase())},isLower:function(a){return this.isAlpha(a)&&a.toLowerCase()===a},isUpper:function(a){return this.isAlpha(a)&&a.toUpperCase()===a},lines:function(a){return a.replaceAll("\r\n","\n").split("\n")},between:function(a,b,c){var d=a.indexOf(b),e=a.indexOf(c,d+b.length);return-1===e&&null!==c?new this.constructor(""):
-1===e&&null===c?a.substring(d+b.length):a.slice(d+b.length,e)},stripTags:function(a){var b=a;q.forEach(1<arguments.length?arguments:[""],function(a){b=b.replace(/<\/?[^<>]*>/gi,"")});return b},countSubString:function(a){return a.toString().split(" ").length},getFrequency:function(a,b,c){a+="";b+="";if(0>=b.length)return a.length+1;var d=0,e=0;for(c=c?1:b.length;;)if(e=a.indexOf(b,e),0<=e)++d,e+=c;else break;return d},parseCSV:function(a,b,c,d,e){var k;b=b||",";d=d||"\\";"undefined"===typeof c&&(c=
'"');var l=0,g=[],h=[],m=a.length,f=!1,n=!1;"undefined"!==typeof e&&(k=[]);for(c||(f=!0);l<m;){var p=a.charAt(l);switch(p){case d:if(f&&(d!==c||a.charAt(l+1)===c)){l+=1;g.push(a.charAt(l));break}if(d!==c)break;case c:f=!f;break;case b:n&&(n=f=!1);f&&c?g.push(p):(h.push(g.join("")),g.length=0);break;case e:n?(n=f=!1,h.push(g.join("")),k.push(h),h=[],g.length=0):f?g.push(p):k&&(h.push(g.join("")),k.push(h),h=[],g.length=0);break;case " ":f&&g.push(p);break;default:f?g.push(p):p!==c&&(g.push(p),n=f=
!0)}l+=1}h.push(g.join(""));return k?(k.push(h),k):h},startsWith:function(a,b){for(var c=Array.prototype.slice.call(arguments,1),d=0;d<c.length;++d)if(0===a.lastIndexOf(c[d],0))return!0;return!1},endsWith:function(a,b){for(var c=Array.prototype.slice.call(arguments,1),d=0;d<c.length;++d){var e=a.length-c[d].length;if(0<=e&&a.indexOf(c[d],e)===e)return!0}return!1},contains:function(a,b){return-1<a.indexOf(b)},stripPunctuation:function(a){return a[0]+a.replace(/[\.,-\\/#!$%\^&\*;:{}=\-_`~()\?]/g,"")},
underScore:function(a,b){b=Barge.String.mul("gebi",b)||Barge.String.mul("gebi",1);return this.trimRight(a).replace(/([a-z\d])([A-Z]+)/g,"$1"+b+"$2").replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1"+b+"$2").replace(/[-\s]+/g,b)},addLeadingZeros:function(a,b){a=a.toString();var c=a.length;c<b&&(a=Barge.String.mul("0",b-c)+a);return a},checkKey:function(a){return(window.event?window.event:a).keyCode},compareVersions:function(a,b){var c=0;a=this.trim(String(a)).split(".");b=this.trim(String(b)).split(".");for(var d=
Math.max(a.length,b.length),e=0;0==c&&e<d;e++){var k=a[e]||"",l=b[e]||"",g=/(\d*)(\D*)/g,h=/(\d*)(\D*)/g;do{var m=g.exec(k)||["","",""],f=h.exec(l)||["","",""];if(0==m[0].length&&0==f[0].length)break;c=0==m[1].length?0:parseInt(m[1],10);var n=0==f[1].length?0:parseInt(f[1],10);c=this._compareElements(c,n)||this._compareElements(0==m[2].length,0==f[2].length)||this._compareElements(m[2],f[2])}while(0==c)}return c},caseInsensitiveContains:function(a,b){return this.contains(a.toLowerCase(),b.toLowerCase())},
_compareElements:function(a,b){return a<b?-1:a>b?1:0},replaceNode:function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)},toUnicodeCharCode:function(a){},prepend:function(a,b){return b+a},append:function(a,b){return a+b},addLeadingChars:function(a,b,c){a=a.toString();b=Barge.String.mul(void 0===c?"0":c,void 0===b?1:b);return Barge.String.prepend(a,b)},addTrailingChars:function(a,b,c){a=a.toString();b=Barge.String.mul(void 0===b?"0":b,void 0===c?1:c);return Barge.String.append(a,b)}};Barge.String.Unicode=
{NBSP:"&nbsp;"}})(Barge.utils);
